---
title: 设计模式
date: 2017-05-05 13:17:35
tags:
- Java
categories: [Java]
---

设计模式

<!-- more -->

# 设计原则

* 单一职责原则
 一个类 = 只有一个引起它变化的原因。
 > 如果一个类承担的职责过多，即耦合度太高 = 一个职责的变化会可能影响到其他的职责。

* 开放封闭原则
 一个实体（类、函数、模块等）应该对外拓展开放，对内修改关闭。
 > 1. 即每次发生变化时，要通过添加新的代码来增强现有类型的行为，而不是修改原有的代码。
 > 2. 符合开放封闭原则的最好方式是提供一个固有的接口，然后让所有可能发生变化的类实现接口，让固定的接口与相关对象进行交互。

* 里氏代替原则
 子类必须替换他们的父类型。
 > 1. 在软件开发过程中，子类替换父类后，程序的行为一致的。
 > 2. 只有当子类替掉父类后软件的功能不受影响，父类才能真正地被复用，而子类也可以在父类的基础上添加新的行为。
 
* 依赖倒置原则
 细节应该依赖于抽象，而抽象不应该依赖于细节。
 > 所谓的面对接口编程，而不是面向实现编程。这样可以降低客户与具体实现的解耦。
 
* 接口隔离原则
 使用多个专门功能的接口，而不是使用单一的总接口。
 > 不要让一个单一的接口承担过多的职责，而应该把每个职责分离到多个专门的接口中，进行接口分离。

* 合成复用原则
 在一个新的对象里面使用一些已有的对象，使之成为新对象的一部分。
 > 新对象通过向这些对象的委派达到复用已用功能的目的。简单的说，就是要尽量使用合成/聚合，尽量不用继承。
 
* 最少知识原则(迪米特原则)
 一个模块或对象尽量少与其他实体之间发生相互作用，使得系统功能模块相对独立，这样当一个模块修改时，影响的模块就会越少，扩展起来越容易。
 > 1. 关于迪米特原则的其他描述：只与你直接的朋友们通信；不要和陌生人说话
 > 2. 外观模式和中介者模式就用了迪米特原则

# 设计模式的分类

三大分类，23中设计模式

## 创建型
 
### 本质
创建对象的模式，对对象实例化的抽象

### 特点
1. 封装了具体的信息
2. 隐藏了类实例化的过程

### 5中设计模式
* 单例模式 Singleton
* 工厂方法模式 Factory Method
* 抽象工厂模式 Abstract Factory
* 建造者模式 Builder
* 原始模式 Prototype

## 结构型

### 本质
处理类或对象的组合

### 两大类型
1. 类结构类型，采用继承机制来组合接口的实现。
2. 对象结构型，组合对象的方式来实现新功能

### 7种设计模式
* 适配器模式 Adapter
* 桥梁模式 Bridge
* 装饰者模式 Decorator
* 门面模式 Facade
* 合成模式 Compiste
* 享元模式 Flyweight
* 代理模式 Proxy

## 行为型

### 本质
对在不同的对象之间划分责任和算法的抽象化

### 两种类型
1. 类的行为模式，使用继承关系在几个类之间分配行为
2. 对象的行为模式，使用对象聚合的方式分配行为

### 11中设计模式
* 模板方法模式 Template Method
* 命令模式 Command
* 迭代器模式 Iterator
* 观察者模式 Observer
* 调停者模式 Mediator
* 状态模式 State
* 策略模式 Strategy
* 责任链模式 Chain Of Responsibility
* 访问者模式 Visitor
* 备忘录模式 Memento
* 解释器模式 Interpreter
